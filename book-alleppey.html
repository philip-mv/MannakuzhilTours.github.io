<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Book Alleppey Houseboat Tour – Mannakuzhil Tours</title>
  <meta name="description" content="Professional booking for Alleppey backwater houseboat cruise. Select package, enter passenger details & pay securely.">
  <link rel="icon" type="image/png" href="logo-square.png">
  <style>
    :root {
      --green-main: #2e7d32;
      --green-dark: #145214;
      --green-light: #d0e8d7;
      --bg-gradient: linear-gradient(to bottom, #70c1ff, #2e7d32);
      --card-bg: rgba(255,255,255,0.94);
    }
    * { box-sizing: border-box; margin:0; padding:0; }
    body {
      font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
      background: var(--bg-gradient);
      color: #123022;
      line-height: 1.6;
    }
    .wrapper { max-width: 1100px; margin: 30px auto 60px; padding: 0 16px; }
    header { display: flex; align-items: center; gap: 12px; margin-bottom: 24px; flex-wrap: wrap; }
    .back-link {
      font-size: 0.95rem; text-decoration: none; color: white; background: rgba(20,82,20,0.85);
      padding: 6px 14px; border-radius: 30px; transition: 0.3s;
    }
    .back-link:hover { background: var(--green-dark); }
    h1 { font-size: clamp(1.6rem, 5vw, 2.1rem); color: white; text-shadow: 1px 1px 4px rgba(0,0,0,0.6); }
    .hero-img { width: 100%; max-height: 380px; object-fit: cover; border-radius: 16px; box-shadow: 0 6px 24px rgba(0,0,0,0.35); margin-bottom: 28px; }
    .content-box {
      background: var(--card-bg); backdrop-filter: blur(8px); border-radius: 16px;
      box-shadow: 0 4px 20px rgba(0,0,0,0.18); padding: 24px; margin-bottom: 32px;
    }
    h2 { color: var(--green-dark); margin-bottom: 16px; font-size: 1.5rem; }
    form label { display: block; font-weight: 600; margin: 12px 0 6px; font-size: 0.95rem; }
    input, select, textarea {
      width: 100%; padding: 10px; border: 1px solid #b5c9b8; border-radius: 6px; font-size: 1rem;
    }
    .passenger-section { margin: 24px 0; border: 1px solid #ccc; border-radius: 8px; padding: 16px; background: #f9fcf9; }
    .passenger-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(220px, 1fr)); gap: 12px; }
    .total-price { font-size: 1.4rem; font-weight: bold; color: var(--green-dark); margin: 24px 0; text-align: center; padding: 12px; background: var(--green-light); border-radius: 8px; }
    .pay-btn {
      background: var(--green-main); color: white; border: none; padding: 16px 40px;
      font-size: 1.2rem; font-weight: 600; border-radius: 50px; cursor: pointer; display: block;
      margin: 28px auto 0; transition: 0.3s;
    }
    .pay-btn:hover { background: var(--green-dark); transform: translateY(-2px); }
    .pay-btn:disabled { background: #aaa; cursor: not-allowed; }
    .note { font-size: 0.9rem; color: #444; margin-top: 20px; text-align: center; }
    @media (max-width: 768px) { .wrapper { padding: 0 12px; } .content-box { padding: 18px; } }
  </style>
</head>
<body>

<div class="wrapper">
  <header>
    <a href="index.html" class="back-link">← Home</a>
    <h1>Alleppey Houseboat Booking – Mannakuzhil Tours</h1>
  </header>

  <img class="hero-img"
       src="https://images.unsplash.com/photo-1593693411515-c20261bcad6e?w=1200&auto=format&fit=crop&q=80"
       alt="Serene Alleppey backwaters with houseboat">

  <div class="content-box">
    <h2>Booking Details</h2>

    <form id="bookingForm">
      <!-- Package Selection -->
      <label for="package">Select Houseboat Package</label>
      <select id="package" name="package" required>
        <option value="">-- Select Package --</option>
        <option value="day" data-price="12000">Day Cruise (6-7 hrs) – Approx ₹12,000 total</option>
        <option value="1night" data-price="15000">1 Night Deluxe Houseboat – Approx ₹15,000 total</option>
        <option value="2nights" data-price="32000">2 Nights Premium Houseboat – Approx ₹32,000 total</option>
      </select>

      <!-- Number of People -->
      <label for="totalPeople">Total Number of Travellers (Adults + Children)</label>
      <input type="number" id="totalPeople" min="1" max="12" value="2" required>

      <!-- Dynamic Passenger Details -->
      <div class="passenger-section">
        <h2>Passenger Details</h2>
        <div id="passengersContainer" class="passenger-grid"></div>
      </div>

      <!-- Primary Contact -->
      <label for="primaryContact">Primary Contact Person (Phone / Email)</label>
      <input type="text" id="primaryContact" name="primaryContact" required placeholder="+91... or email@example.com">

      <!-- Preferred Dates / Requests -->
      <label for="dates">Preferred Travel Dates & Special Requests</label>
      <textarea id="dates" name="dates" rows="3" placeholder="e.g., 15-17 Jan 2026, vegetarian meals, pickup from Alleppey..."></textarea>

      <!-- Total Price Display -->
      <div class="total-price" id="totalPrice">Estimated Total: ₹0 (Private boat basis)</div>

      <!-- Payment Button -->
      <button type="button" id="payButton" class="pay-btn" disabled>Proceed to Secure Payment</button>
    </form>

    <p class="note">
      Prices are approximate (fixed per boat, excl. 5% GST & seasonal variations). Secure payment via Razorpay.<br>
      After payment, we will confirm availability & dates within 24 hours.
    </p>
  </div>
</div>

<script>
  const form = document.getElementById('bookingForm');
  const packageSelect = document.getElementById('package');
  const totalPeopleInput = document.getElementById('totalPeople');
  const passengersContainer = document.getElementById('passengersContainer');
  const totalDisplay = document.getElementById('totalPrice');
  const payBtn = document.getElementById('payButton');

  // Razorpay payment links (REPLACE WITH YOUR REAL LINKS!)
  const paymentLinks = {
    day: "https://rzp.io/l/YOUR_DAY_CRUISE_LINK",
    '1night': "https://rzp.io/l/YOUR_1NIGHT_DELUXE_LINK",
    '2nights': "https://rzp.io/l/YOUR_2NIGHTS_PREMIUM_LINK"
  };

  function updatePassengers() {
    const count = parseInt(totalPeopleInput.value) || 1;
    const pkg = packageSelect.value;

    passengersContainer.innerHTML = '';

    if (count > 0) {
      for (let i = 1; i <= count; i++) {
        const div = document.createElement('div');
        div.innerHTML = `
          <strong>Passenger ${i}</strong>
          <input type="text" placeholder="Full Name*" required name="p${i}_name">
          <input type="number" placeholder="Age*" min="1" required name="p${i}_age">
          <select required name="p${i}_gender">
            <option value="">Gender*</option>
            <option value="Male">Male</option>
            <option value="Female">Female</option>
            <option value="Transgender">Transgender</option>
          </select>
          <select name="p${i}_nationality">
            <option value="Indian">Indian</option>
            <option value="Foreign">Foreign</option>
          </select>
        `;
        passengersContainer.appendChild(div);
      }
    }

    updatePrice();
  }

  function updatePrice() {
    const pkg = packageSelect.value;
    if (!pkg) {
      totalDisplay.textContent = "Estimated Total: ₹0 (Private boat basis)";
      payBtn.disabled = true;
      return;
    }

    const basePrice = parseInt(packageSelect.options[packageSelect.selectedIndex].dataset.price);
    totalDisplay.textContent = `Estimated Total: ₹${basePrice.toLocaleString()} (for up to ${totalPeopleInput.value} people)`;
    payBtn.disabled = false;
  }

  packageSelect.addEventListener('change', updatePassengers);
  totalPeopleInput.addEventListener('input', updatePassengers);

  // Payment handler
  payBtn.addEventListener('click', () => {
    const pkg = packageSelect.value;
    if (paymentLinks[pkg]) {
      window.open(paymentLinks[pkg], '_blank');
      // Optionally: alert("Redirecting to secure Razorpay payment. Please confirm dates after payment!");
    } else {
      alert("Payment link not set up yet. Contact us directly.");
    }
  });

  // Initial setup
  updatePassengers();
</script>

</body>
</html>
